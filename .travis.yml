language: csharp

install:
  - nuget install xunit -Version 1.9.2 -OutputDirectory testrunner
  - nuget install xunit.runners -Version 1.9.2 -OutputDirectory testrunner
  - nuget install xunit.extensions -Version 1.9.2 -OutputDirectory testrunner

script:
  - cp testrunner/xunit.1.9.2/lib/net20/xunit.dll .
  - cp testrunner/xunit.extensions.1.9.2/lib/net20/xunit.extensions.dll .
  - mcs -r:System.Runtime.Serialization src/xp.runner/*.cs src/xp.runner/*/*.cs -target:exe -out:xp
  - mcs -r:System.Runtime.Serialization -r:xunit.dll -r:xunit.extensions.dll src/xp.runner/*.cs src/xp.runner/*/*.cs src/xp.runner.test/*.cs -target:library -out:tests.dll
  - mono ./testrunner/xunit.runners.1.9.2/tools/xunit.console.clr4.exe tests.dll
